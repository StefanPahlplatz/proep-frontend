<div class="content">
  <app-navbar [canSearch]="true" [hasBorder]="true"></app-navbar>
  <div
    *ngIf="vehicle.images.length > 0"
    id="carouselVehicles"
    class="carousel slide container"
    data-ride="carousel"
    style="padding: 0;"
  >
    <ol class="carousel-indicators">
      <li
        *ngFor="let image of vehicle.images; let i = index"
        data-target="#carouselVehicles"
        [attr.data-slide-to]="image.id"
      ></li>
    </ol>
    <div class="carousel-inner">
      <div
        *ngFor="let image of vehicle.images; let i = index"
        class="carousel-item"
        [ngClass]="{ active: i == 0 }"
      >
        <img class="d-block w-100 car" src="{{ image.path }}" alt="" />
      </div>
    </div>
    <a
      class="carousel-control-prev"
      href="#carouselVehicles"
      role="button"
      data-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a
      class="carousel-control-next"
      href="#carouselVehicles"
      role="button"
      data-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <div
    *ngIf="vehicle.images.length == 0"
    id="carouselVehicles2"
    class="carousel slide container"
    data-ride="carousel"
    style="padding: 0;"
  >
    <ol class="carousel-indicators">
      <li data-target="#carouselVehicles2" [attr.data-slide-to]="0"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          class="d-block w-100 car"
          src="https://conceptualminds.com/wp-content/uploads/2015/08/car-mechanic-website-placeholder-2.jpg"
          alt=""
        />
      </div>
    </div>
    <a
      class="carousel-control-prev"
      href="#carouselVehicles2"
      role="button"
      data-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a
      class="carousel-control-next"
      href="#carouselVehicles2"
      role="button"
      data-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <div>
    <div
      class="container"
      style="display: block; margin-left: auto;  margin-right: auto; width: 75%; margin-top: 24px;"
    >
      <h1 style="text-align: center">
        <strong> {{ vehicle.make }} - {{ vehicle.model }} </strong>
      </h1>
      <h4
        style="color: grey; margin-top: -8px; text-align: center; margin-bottom: 20px;"
      >
        {{ vehicle.user.city || '' }}
      </h4>
    </div>

    <div
      class="container"
      style="background-color: #f5f5f5; padding: 2em;  -webkit-border-radius: 10px; -moz-border-radius: 10px; border-radius: 10px;"
    >
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-sm-4">
              <h2>Specifications</h2>
              <br />
              <div>
                <div class="spec">
                  <div class="fi">
                    <img
                      src="../../../assets/images/car-door-svgrepo-com.svg"
                      alt="check circle"
                      class="img-responsive"
                    />
                  </div>
                  <div class="ft">
                    <strong>4 doors</strong>
                  </div>
                </div>

                <div>
                  <div class="spec">
                    <div class="fi">
                      <img
                        src="../../../assets/images/car-seat-with-seatbelt-svgrepo-com.svg"
                        alt="check circle"
                        class="img-responsive"
                      />
                    </div>
                    <div class="ft">
                      <strong>4 seats</strong>
                    </div>
                  </div>
                </div>

                <div>
                  <div class="spec">
                    <div class="fi">
                      <img
                        src="../../../assets/images/car-engine-svgrepo-com.svg"
                        alt="check circle"
                        class="img-responsive"
                      />
                    </div>
                    <div class="ft">
                      <strong>Automatic</strong>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <div class="spec">
                  <div class="fi">
                    <img
                      src="../../../assets/images/cash-pay-svgrepo-com.svg"
                      alt="check circle"
                      class="img-responsive"
                    />
                  </div>
                  <div class="ft">
                    <strong>â‚¬{{ vehicle.price }} per day</strong>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-sm-4">
              <h2>Extra Information</h2>
              <br />
              <div>
                <div class="spec">
                  <div class="fi">
                    <img
                      src="../../../assets/images/baseline-check_circle-24px.svg"
                      alt="check circle"
                      class="img-responsive"
                    />
                  </div>
                  <div class="ft">
                    <strong>Vehicle Type: {{ vehicle.type }}</strong>
                  </div>
                </div>
              </div>

              <div>
                <div class="spec">
                  <div class="fi">
                    <img
                      src="../../../assets/images/baseline-check_circle-24px.svg"
                      alt="check circle"
                      class="img-responsive"
                    />
                  </div>
                  <div class="ft">
                    <strong>Color: {{ vehicle.colour }}</strong>
                  </div>
                </div>
              </div>

              <div>
                <div class="spec">
                  <div class="fi">
                    <img
                      src="../../../assets/images/baseline-check_circle-24px.svg"
                      alt="check circle"
                      class="img-responsive"
                    />
                  </div>
                  <div class="ft">
                    <strong> Mileage: {{ vehicle.mileage }} km</strong>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-sm-4" *ngIf="isLoggedIn">
              <div class="home-container">
                <div class="card">
                  <form
                    [formGroup]="formdata"
                    (ngSubmit)="onClickSubmit(formdata.value)"
                  >
                    <h2 style="font-weight: bolder;">Reserve vehicle</h2>

                    <div class="form-row" style="display:block">
                      <div class="form-group">
                        <label for="fromDateInput">From</label>
                        <input
                          type="date"
                          class="form-control"
                          id="fromDateInput"
                          formControlName="fromDateInput"
                        />
                      </div>

                      <div class="form-group">
                        <label for="tillDateInput">Till</label>
                        <input
                          type="date"
                          class="form-control"
                          id="tillDateInput"
                          formControlName="tillDateInput"
                        />
                      </div>
                    </div>

                    <div class="text-right">
                      <button
                        style="width: 123px;"
                        *ngIf="!isLoading"
                        type="submit"
                        class="btn btn-primary"
                      >
                        Reserve
                      </button>
                      <button
                        *ngIf="isLoading"
                        class="btn btn-primary"
                        type="button"
                        style="width: 123px;"
                        disabled
                      >
                        <span
                          class="spinner-border spinner-border-sm"
                          role="status"
                          aria-hidden="true"
                        ></span>
                        Loading...
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <div class="col-sm-4" *ngIf="!isLoggedIn">
              <div class="home-container">
                <div class="card">
                  You can only reserve a car if you log in.
                </div>
              </div>
            </div>
          </div>

          <br />
        </div>
      </div>
    </div>
  </div>
</div>
